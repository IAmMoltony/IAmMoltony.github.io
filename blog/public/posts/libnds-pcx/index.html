<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="shortcut icon" href="https://iammoltony.github.io/blog/public/favicon.ico">
    
    <link rel="stylesheet" href="/blog/public/css/style.min.css">

    <link rel="canonical" href="https://iammoltony.github.io/blog/public/posts/libnds-pcx/" />
    <title>libNDS&#39;s PCX loader is weird</title>
</head>
<body><header id="banner">
    <h2><a href="https://iammoltony.github.io/blog/public/">Moltony&#39;s blog</a></h2>
    <nav>
        <ul>
            
        </ul>
    </nav>
</header>
<main id="content">
<article>
    <header id="post-header">
        <h1>libNDS&#39;s PCX loader is weird</h1>
        <div>
                <time>October 21, 2023</time>
            </div>
    </header><p>Last time I talked about how GIMP makes incorrect PCX files.</p>
<p>Guess what? Turns out I was <em><strong>WRONG</strong></em>!</p>
<p>Let me explain.</p>
<p>So, all the PCX files that come with libNDS are 8bpp - they can have up to 256 unique colors. But when you tell GIMP to create an indexed image with maximum color count of 256 and you have less than or equal to 16 colors in the image, it will get crushed to 2bpp or 4bpp. libNDS doesn&rsquo;t recognize 2 and 4bpp images for some reason, so it just gives up&hellip;and I still don&rsquo;t know why that is.</p>
<p>However, libNDS docs <strong>did not</strong> specify that only 8bpp images are supported, so it wasn&rsquo;t very unexpected that I assumed that GIMP is the problem. Oh well.</p>
<p>To get around this arbitrary limitation, I use IfranView to increase the color depth to 8bpp. It&rsquo;s really easy to do - one just needs to open their image, click on &lsquo;Image&rsquo; and then on &lsquo;Increase Color Depth&rsquo;, select 8bpp and save the new image.</p>
<p>And if you have to update many images to 8bpp, then it can take a really long time. A reeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeally long time. A r{&rsquo;e&rsquo; * math.inf}ally long time.</p>
<p><em>- moltony</em></p>
</article>

        </main><footer id="footer">
    
</footer>
</body>
</html>
